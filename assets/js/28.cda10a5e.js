(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{389:function(t,a,s){"use strict";s.r(a);var n=s(15),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"事件模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件模型"}},[t._v("#")]),t._v(" 事件模型")]),t._v(" "),a("h3",{attrs:{id:"dom0-级模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom0-级模型"}},[t._v("#")]),t._v(" DOM0 级模型")]),t._v(" "),a("p",[t._v("又称为原始事件模型，在该模型中，事件不会传播，即没有事件流的概念。事件绑定监听函数比较简单, 有两种方式:\nHTML 代码中直接绑定:")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token special-attr"}},[a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onclick")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fun")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("p",[t._v("通过 JS 代码指定属性值:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fun\n")])])]),a("p",[t._v("移除监听函数：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n")])])]),a("p",[t._v("这种方式所有浏览器都兼容，但是逻辑与显示并没有分离。")]),t._v(" "),a("h3",{attrs:{id:"ie-事件模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ie-事件模型"}},[t._v("#")]),t._v(" IE 事件模型")]),t._v(" "),a("p",[t._v("IE 事件模型共有两个过程:")]),t._v(" "),a("ul",[a("li",[t._v("事件处理阶段(target phase)。事件到达目标元素, 触发目标元素的监听函数。")]),t._v(" "),a("li",[t._v("事件冒泡阶段(bubbling phase)。事件从目标元素冒泡到 document, 依次检查经过的节点是否绑定了事件监听函数，如果有则执行。")])]),t._v(" "),a("p",[t._v("事件绑定监听函数的方式如下:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("事件移除监听函数的方式如下:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("参数说明:")]),t._v(" "),a("ul",[a("li",[t._v("eventType 指定事件类型(注意加 on)")]),t._v(" "),a("li",[t._v("handler 是事件处理函数\nExample:")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘onclick’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" showMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("detachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘onclick’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" showMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"dom2-级模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom2-级模型"}},[t._v("#")]),t._v(" DOM2 级模型")]),t._v(" "),a("p",[t._v("属于 W3C 标准模型，现代浏览器(除 IE6-8 之外的浏览器)都支持该模型。在该事件模型中，一次事件共有三个过程:")]),t._v(" "),a("ul",[a("li",[t._v("事件捕获阶段(capturing phase)。事件从 document 一直向下传播到目标元素, 依次检查经过的节点是否绑定了事件监听函数，如果有则执行。")]),t._v(" "),a("li",[t._v("事件处理阶段(target phase)。事件到达目标元素, 触发目标元素的监听函数。")]),t._v(" "),a("li",[t._v("事件冒泡阶段(bubbling phase)。事件从目标元素冒泡到 document, 依次检查经过的节点是否绑定了事件监听函数，如果有则执行。")])]),t._v(" "),a("p",[t._v("事件绑定监听函数的方式如下:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useCapture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("事件移除监听函数的方式如下:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useCapture"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘click’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" showMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("‘click’"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" showMessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("参数说明:")]),t._v(" "),a("ul",[a("li",[t._v("eventType 指定事件类型(不要加 on)")]),t._v(" "),a("li",[t._v("handler 是事件处理函数")]),t._v(" "),a("li",[t._v("useCapture 是一个 boolean 用于指定是否在捕获阶段进行处理，一般设置为 false 与 IE 浏览器保持一致。")])]),t._v(" "),a("h2",{attrs:{id:"事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件流"}},[t._v("#")]),t._v(" 事件流")]),t._v(" "),a("p",[t._v("事件流有三个阶段： 事件捕获阶段，目标阶段，事件冒泡阶段。")]),t._v(" "),a("img",{staticClass:"custom",attrs:{src:t.$withBase("/assets/img/event.png")}}),t._v(" "),a("ul",[a("li",[t._v("捕获阶段是指事件响应从最外层的 Window 开始，逐级向内层前进，直到具体事件目标元素。在捕获阶段，不会处理响应元素注册的冒泡事件。")]),t._v(" "),a("li",[t._v("目标阶段指触发事件的最底层的元素，如上图中的。")]),t._v(" "),a("li",[t._v("冒泡阶段与捕获阶段相反，事件的响应是从最底层开始一层一层往外传递到最外层的 Window。")])]),t._v(" "),a("h2",{attrs:{id:"event-对象常见应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-对象常见应用"}},[t._v("#")]),t._v(" Event 对象常见应用")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("event.preventDefault()\n阻止默认事件\n🚩"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Event/preventDefault",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细 api"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("event.stopPropagation()\n阻止冒泡\n🚩"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细 api"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("event.stopImmediatePropagation()\n阻止监听同一事件的其他事件监听器被调用。\n🚩"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopImmediatePropagation",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细 api"),a("OutboundLink")],1),t._v("\n如果有多个相同类型事件的事件监听函数绑定到同一个元素，当该类型的事件触发时，它们会按照被添加的顺序执行。如果其中某个监听函数执行了 event.stopImmediatePropagation() 方法，则当前元素剩下的监听函数将不会被执行。")])]),t._v(" "),a("li",[a("p",[t._v("event.currentTarget\n当事件沿着 DOM 触发时事件的当前目标。它总是指向事件绑定的元素。")])]),t._v(" "),a("li",[a("p",[t._v("event.target\n事件触发的元素。")])])]),t._v(" "),a("p",[t._v("使用事件代理(委托)往往会用到这两个属性。\n比如有十个按钮，我们不想给每个按钮都绑定一次 click 事件，我们可以给十个按钮的父容器绑定 click 事件，自父容器的 click 事件中 currentTarget 就是父容器，target 就是被点击的按钮。")]),t._v(" "),a("h2",{attrs:{id:"事件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件类型"}},[t._v("#")]),t._v(" 事件类型")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("UI (User Interface) 事件，当用户与页面上的元素交互时触发\nload、unload、error、select、resize、scroll")])]),t._v(" "),a("li",[a("p",[t._v("焦点事件，在页面获得或失去焦点时触发\nblur、focusout 失去焦点 focus、focusin 获得焦点")])]),t._v(" "),a("li",[a("p",[t._v("鼠标事件，用户通过鼠标在页面执行操作时触发\nclick、dbclick、mousedown、mouseup\nmouseenter、mouserleave\nmousemove\nmouseout、mouseover")])]),t._v(" "),a("li",[a("p",[t._v("点击和双击事件触发的顺序如下\nmousedown mouseup click mousedown mouseup dbclick")])]),t._v(" "),a("li",[a("p",[t._v("滚轮事件，当使用鼠标滚轮操作时触发\nmousewheel")])]),t._v(" "),a("li",[a("p",[t._v("文本事件，在文档中输入文本时触发\ntextInput 当用户在可编辑区域中输入字符时，就会触发这个事件")])]),t._v(" "),a("li",[a("p",[t._v("键盘事件，当用户通过键盘在页面上执行操作时触发")]),t._v(" "),a("p",[t._v("keydown 按下键盘任意键时触发，不松开，则一直触发 keypress 按下键盘上的字符键时触发，不松开，则一直触发 Keyup 用户释放键盘上的建时触发")])]),t._v(" "),a("li",[a("p",[t._v("HTML5 事件\ncontextmenu 事件：单价鼠标右键可以调出上下文菜单\nbeforeunload 事件：在浏览器卸载页面之前触发\nDOMContentLoad 事件：在形成完整的 DOM 树之后就会触发。\nreadystatechange 事件：提供与文档加载状态有关的信息\npageshow 和 pagehide 事件：页面显示和隐藏时触发\nhashchange 事件 : hash 改变时触发")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);